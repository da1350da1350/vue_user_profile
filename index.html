<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
        <script src="node_modules/vue/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    </head>
    <body>
      <div id="user_profile_list">
            <user-profile-card v-for="profile in user_profiles" :key="profile.id"  :profile="profile"  >
                <template #profile-image>
                    <div class="image">
                        <img :src="profile.avatar_url"> 
                    </div>
                </template>
            </user-profile-card>
      </div>
        
      <script type="text/template" id="user_profile_template">
        <div class="ui card">
            <slot name="profile-image"></slot>          
            <div class="content">
              <span class="header">{{profile.login}}</span>
              <div class="meta">
                <span class="date"></span>
              </div>
              <div class="description">
              </div>
            </div>
            <div class="extra content">
              <div>
                <i class="user icon"></i>
                    22 Friends
                <i style="float:right" class="heart outline icon" @click="toggleHeart(1,$event)"></i>
              </div>
            </div>
        </div>
        
      </script>
        <script >
          Vue.component('user-profile-card',{
            props:["profile"],
            template:"#user_profile_template",
            methods:{
              toggleHeart:function(test,event){
                event.target.classList.toggle('outline');
              }
            }
          });
          var app = new Vue({
            el: '#user_profile_list',
            data() {
              return {
                user_profiles: []
              }
            },
            mounted () {
              axios.get('https://api.github.com/users')
              .then((result) => {
                this.user_profiles = result.data;
                console.log(result.data);
              }).catch((err) => {
                console.log(err);
              });
            },
          })
        </script>
    </body>
</html>